---
layout: post
title: vim 常用技巧汇总
date:   2014-04-06 13:50:33
categories: vim
---

使用一款编辑利器是一种生存技能!

### 模式切换

* 进入 Insert 模式  **i, a, o**
* 进入 Command 模式 **[esc]**
* 退出 **:q**
* 强制退出 **:q!**
* 保存 **:w**
* 保存并退出 **:wq**
* 将10至20行的内容另存为文件 **:10,20w test.txt**

### 光标移动操作
* 向下移动一行 **j**
* 向上移动一行 **k**
* 向左移动一个字符 **h**
* 向右移动一个字符 **l**

	上下左右移动N个单位只要命令前面添加数字即可，如 `10j` 向下移动10行。
* 向下移动一页 **[ctr] + f**
* 向上移动一页 **[ctr] + b**
* 光标移动到行首 **0**
* 光标移动到行尾 **$**
* 光标移动到行首第一个字符 **^**
* 移动到第一行 **gg**
* 移动到最后一行 **G**
* 移动到第 10 行 **:10**或**10G**

### 编辑操作
* 删除光标所在位置的一个字符 **x**
* 删除光标所在位置至单词结束 **dw**
* 删除5个单词 **5dw**
* 删除当前行 **dd**
* 删除10行 **10dd**
* 删除光标所在行至第一行 **d1G**
* 删除光标所在行至最后一行 **dG**
* 删除光标所在位置至行尾 **d$**
* 删除光标所在位置至行首 **d0**
* 复制当前行 **yy**
* 向下复制10行 **10yy**
* 复制光标所在行至第一行 **y1G**
* 复制光标所在行至最后一行 **yG**
* 复制光标所在位置至行尾 **y$**
* 复制光标所在位置至行首 **y0**
* 复制光标所在位置至单词结束 **yw**
* 复制5个单词 **5yw**
* 向下或向后粘贴 **p**
* 向上或向前粘贴 **P**
* 撤销操作 **u**
* 合并两行 **J**

### 搜索操作
* 向下搜索单词 **/word**
* 向下重复前一个搜索操作 **n**
* 向上搜索单词 **?word**
* 向上重复前一个搜索操作 **N**
* 搜索光标所在的单词 *****
* 替换内容 **%s/word/words/g**  g表示 global，全部替换


### 块操作
选择一块区域后，对选择区域的内容进行批量编辑操作，该区域背景反白。

* 选择光标所在字符 **[ctr] + v**
* 选择光标所在行 **[ctr] + V**
* 列选(向下选中10行每行的第一列) **[ctr] + v ＋ 10j**
* 向下选中10行，复制选中的区域 **[ctr]+ V + 10j + y**
* 向下选中10行，删除选中的区域 **[ctr]+ V + 10j + d**
* 前10行行首添加字符  **0 + [ctr] + v + 10j + i + [输入字符] + [esc]**

### 打开文档
* 打开 test.txt 文档 **:e test.txt**
* 在新标签中打开文档 **:tabnew test.txt**
* 同一窗口打开(横向分割窗口) **:sp test.txt**
* 窗口之间顺序切换 **[ctr] + ww**
* 切换到上方的窗口 **[ctr] + wj**
* 切换到上方的窗口 **[ctr] + wj**
* 同一窗口打开(纵向分割窗口) **:vsp test.txt**
* 切换到左边的窗口 **[ctr] + wh**
* 切换到右边的窗口 **[ctr] + wl**

### 其他
大小写转换

* 将**选中**的区域字母全部小写 **gu** 选择区域参考块操作
* 将**选中**的区域字母全部大写 **gU**
* 将单词转换为小写 **guw**
* 将单词转换为大写 **gUw**
* 光标所在位置至行尾全部小写 **gu$**    大小写同理
* 光标所在位置至行首全部大写 **gU0**

合并，拆分行

* 合并所有行, 即将回车符替换为空 **%s/\n//g** 
* 拆分行(按逗号拆分), 将逗号替换为逗号+换行符 **:%s/, /,\r/g** 

批量插入操作

* 在每一行行尾插入逗号 **%s/$/,/g**
* 多行注释(每一行行首添加) **%s/^/#/g

批量删除操作

* 删除从冒号至行尾的内容 **%s/:.*//g**
* 删除从冒号至行首的内容 **%s/^.*//g**
* 删除注释行(开头含有#) **%s/^#//d**
* 删除空行 **%s/^$//d**
* 删除含有匹配规则的行 **:g/pattern//d**
* 删除不含有匹配规则的行 **:% v/pattern/d**
* 每一行只保留匹配内容，删除其他内容 **:%s/^.*\(pattern\).*$/\1/g**

### .vimrc 配置文件
home 目录下的 .vimrc 为 vim 的配置文件。可以按注释开启适合自己的选项。以下列出的偏好设置仅供参考。修改配置文件，需重启vim才能查看效果。

```
set autoindent		" 自动缩进
set number	    	" 显示行号
set cursorline		" 高亮光标所在行
set cursorcolumn	" 高亮光标所在列
set shiftwidth=4	" 自动缩进的空白长度为4个空格
set tabstop=4		" tab 制表符的空白长度
set expandtab		" 将制表符转换为（4个）空格
set ic		    	" 搜索时忽略大小写
set hlsearch		" 高亮显示搜索结果
set noback			" 关闭自动备份（不生成临时文件）
set autochdir			" 自动切换目录
colorscheme torte		" 配色风格
set guifont=Menlo:h15	" 字体，大小
```


