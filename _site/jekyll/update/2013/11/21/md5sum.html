<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>bash 下进行 md5 加密与 python 的 md5 结果不同?</title>
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="/css/bootstrap/css/bootstrap.min.css">
        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Tonsh's Blog</a></h1>
            <!--<a class="extra" href="/">home</a>-->
          </div>

          <h2>bash 下进行 md5 加密与 python 的 md5 结果不同?</h2>
<p class="meta">21 Nov 2013</p>

<div class="post">
<p>在命令行下进行 md5 加密：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; echo &#39;tonshlee@gmail.com&#39; | md5sum

4df6140c29b5dbfb8745a3e06e2d682b
</code></pre></div>
<p>而使用 python 对同样的字符串加密结果却不同：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; import hashlib
&gt;&gt;&gt; hashlib.md5(&#39;tonshlee@gmail.com&#39;).hexdigest()

646c598aa4ec20a5867186be4a7a9e21    
</code></pre></div><div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; man echo

The echo utility writes any specified operands, separated by single blank characters and followed by a newline (`\n&#39;) character, to the stan-dard output.
    … …
-n    Do not print the trailing newline character.
</code></pre></div>
<p>命令行 &#39;echo&#39; 会自动在字符串参数结尾添加 &#39;\n&#39; 回车符。-n 参数不会打印回车符</p>

<p>所以bash下应该：</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; echo -n &#39;tonshlee@gmail.com&#39; | md5sum
646c598aa4ec20a5867186be4a7a9e21
</code></pre></div>
</div>


          <!--<div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>-->

    </body>
</html>
